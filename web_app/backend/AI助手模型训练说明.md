# ğŸ¤– AI Assistant æ„å›¾åˆ†ç±»æ¨¡å‹è®­ç»ƒè¯´æ˜

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. åˆ›å»ºäº†è®­ç»ƒè„šæœ¬
- **æ–‡ä»¶**: `train_intent_classifier.py`
- **åŠŸèƒ½**: è®­ç»ƒæ„å›¾åˆ†ç±»æ¨¡å‹ï¼Œè¯†åˆ«ç”¨æˆ·é—®é¢˜çš„ç±»å‹

### 2. é›†æˆåˆ° AI Assistant
- **æ–‡ä»¶**: `enhanced_ai_assistant.py`
- **ä¿®æ”¹**: æ·»åŠ äº†æ¨¡å‹åŠ è½½å’Œä½¿ç”¨åŠŸèƒ½
- **ç‰¹ç‚¹**: å¦‚æœæ¨¡å‹å¯ç”¨ï¼Œä¼˜å…ˆä½¿ç”¨æ¨¡å‹ï¼›å¦åˆ™å›é€€åˆ°æ¨¡å¼åŒ¹é…

### 3. æ¨¡å‹æ–‡ä»¶
- `intent_classifier_model.pkl` - è®­ç»ƒå¥½çš„åˆ†ç±»æ¨¡å‹
- `intent_vectorizer.pkl` - æ–‡æœ¬å‘é‡åŒ–å™¨

## ğŸ¯ æ¨¡å‹åŠŸèƒ½

### æ„å›¾åˆ†ç±»
æ¨¡å‹å¯ä»¥å°†ç”¨æˆ·é—®é¢˜åˆ†ç±»ä¸ºä»¥ä¸‹10ä¸ªç±»åˆ«ï¼š

1. **greetings** - é—®å€™è¯­
2. **identification_tips** - è¯†åˆ«æŠ€å·§
3. **observation_time** - è§‚å¯Ÿæ—¶é—´
4. **photo_tips** - æ‘„å½±æŠ€å·§
5. **species_info** - ç‰©ç§ä¿¡æ¯
6. **confidence** - ç½®ä¿¡åº¦ç›¸å…³
7. **habitat** - æ –æ¯åœ°
8. **system_info** - ç³»ç»Ÿä¿¡æ¯
9. **help** - å¸®åŠ©ä¿¡æ¯
10. **default** - é»˜è®¤ç±»åˆ«

### å·¥ä½œåŸç†

```
ç”¨æˆ·é—®é¢˜ â†’ æ–‡æœ¬å‘é‡åŒ– â†’ æ¨¡å‹é¢„æµ‹ â†’ æ„å›¾ç±»åˆ« + ç½®ä¿¡åº¦
                                    â†“
                        å¦‚æœç½®ä¿¡åº¦ > 50% â†’ ä½¿ç”¨æ¨¡å‹é¢„æµ‹
                        å¦åˆ™ â†’ ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆå›é€€ï¼‰
```

## ğŸ“Š æ¨¡å‹æ€§èƒ½

### å½“å‰æ€§èƒ½
- **å‡†ç¡®ç‡**: ~39% (è®­ç»ƒæ•°æ®è¾ƒå°‘)
- **æ¨¡å‹ç±»å‹**: Naive Bayes (å¤šé¡¹å¼)
- **ç‰¹å¾**: TF-IDF å‘é‡åŒ– (unigrams + bigrams)

### æ”¹è¿›å»ºè®®
1. **å¢åŠ è®­ç»ƒæ•°æ®**: æ·»åŠ æ›´å¤šé—®ç­”å¯¹åˆ° `knowledge_base.json`
2. **ä½¿ç”¨æ›´å¤æ‚çš„æ¨¡å‹**: å¯ä»¥å°è¯• Logistic Regression
3. **æ•°æ®å¢å¼º**: ç”Ÿæˆæ›´å¤šå˜ä½“çš„é—®é¢˜

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è®­ç»ƒæ¨¡å‹

```bash
cd web_app/backend
python train_intent_classifier.py
```

### æ¨¡å‹ä¼šè‡ªåŠ¨ä½¿ç”¨

AI Assistant å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åŠ è½½æ¨¡å‹ï¼š
- å¦‚æœæ¨¡å‹æ–‡ä»¶å­˜åœ¨ â†’ ä½¿ç”¨æ¨¡å‹é¢„æµ‹
- å¦‚æœæ¨¡å‹æ–‡ä»¶ä¸å­˜åœ¨ â†’ ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆå›é€€ï¼‰

### é‡æ–°è®­ç»ƒ

å¦‚æœéœ€è¦é‡æ–°è®­ç»ƒï¼ˆä¾‹å¦‚æ·»åŠ äº†æ–°æ•°æ®ï¼‰ï¼š

```bash
# 1. æ›´æ–° knowledge_base.jsonï¼ˆæ·»åŠ æ›´å¤š patternsï¼‰
# 2. é‡æ–°è®­ç»ƒ
python train_intent_classifier.py
# 3. é‡å¯åç«¯æœåŠ¡
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### è®­ç»ƒæ•°æ®æ¥æº
1. **knowledge_base.json**: ä»çŸ¥è¯†åº“ä¸­æå– patterns
2. **åˆæˆæ•°æ®**: è‡ªåŠ¨ç”Ÿæˆå¸¸è§é—®é¢˜çš„å˜ä½“

### ç‰¹å¾å·¥ç¨‹
- **TF-IDF å‘é‡åŒ–**: å°†æ–‡æœ¬è½¬æ¢ä¸ºæ•°å€¼ç‰¹å¾
- **N-gram**: ä½¿ç”¨ unigrams å’Œ bigrams
- **åœç”¨è¯**: ç§»é™¤è‹±æ–‡åœç”¨è¯
- **æœ€å¤§ç‰¹å¾æ•°**: 1000

### æ¨¡å‹é€‰æ‹©
- **Naive Bayes**: ç®€å•ã€å¿«é€Ÿã€é€‚åˆæ–‡æœ¬åˆ†ç±»
- **Logistic Regression**: å¯é€‰ï¼Œæ›´å¤æ‚ä½†å¯èƒ½æ›´å‡†ç¡®

## ğŸ“ ä»£ç ä¿®æ”¹è¯´æ˜

### ä¿®æ”¹çš„æ–‡ä»¶
1. **enhanced_ai_assistant.py**
   - æ·»åŠ äº† `_load_intent_model()` æ–¹æ³•
   - æ·»åŠ äº† `_predict_intent()` æ–¹æ³•
   - ä¿®æ”¹äº† `_match_knowledge_base()` æ–¹æ³•ï¼Œä¼˜å…ˆä½¿ç”¨æ¨¡å‹

### æœªä¿®æ”¹çš„æ–‡ä»¶
- âœ… `app.py` - æœªä¿®æ”¹
- âœ… å…¶ä»–åŠŸèƒ½ - å®Œå…¨ä¸å˜
- âœ… å‰ç«¯ - æ— éœ€ä¿®æ”¹

## ğŸ“ ä½œä¸šä¼˜åŠ¿

1. **æœºå™¨å­¦ä¹ æ¨¡å‹**: å±•ç¤ºäº†å®é™…çš„æ¨¡å‹è®­ç»ƒå’Œä½¿ç”¨
2. **æ„å›¾ç†è§£**: æ›´æ™ºèƒ½çš„é—®é¢˜åˆ†ç±»
3. **å¯æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ›´å¤šè®­ç»ƒæ•°æ®
4. **å›é€€æœºåˆ¶**: å³ä½¿æ¨¡å‹ä¸å¯ç”¨ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ

## ğŸ” æµ‹è¯•

### æµ‹è¯•æ¨¡å‹é¢„æµ‹

```python
from enhanced_ai_assistant import get_enhanced_assistant

assistant = get_enhanced_assistant()

# æµ‹è¯•ä¸åŒé—®é¢˜
test_cases = [
    "how to identify butterflies?",
    "when is the best time?",
    "hello",
    "ä½ å¥½"
]

for msg in test_cases:
    intent, conf = assistant._predict_intent(msg)
    print(f"{msg} â†’ {intent} ({conf:.2%})")
```

## ğŸ’¡ æœªæ¥æ”¹è¿›

1. **æ·±åº¦å­¦ä¹ æ¨¡å‹**: ä½¿ç”¨ LSTM æˆ– Transformer
2. **å¤šè¯­è¨€æ”¯æŒ**: æ›´å¥½çš„ä¸­æ–‡æ”¯æŒ
3. **åœ¨çº¿å­¦ä¹ **: æ ¹æ®ç”¨æˆ·åé¦ˆæ›´æ–°æ¨¡å‹
4. **æƒ…æ„Ÿåˆ†æé›†æˆ**: ç»“åˆæƒ…æ„Ÿåˆ†ææ”¹è¿›å›å¤

---

**âœ… æ¨¡å‹å·²æˆåŠŸè®­ç»ƒå¹¶é›†æˆåˆ° AI Assistantï¼**

**ç‰¹ç‚¹**: 
- ä¸æ”¹å˜ä»»ä½•å…¶ä»–åŠŸèƒ½
- è‡ªåŠ¨å›é€€æœºåˆ¶
- æ˜“äºé‡æ–°è®­ç»ƒ
- æå‡æ„å›¾è¯†åˆ«å‡†ç¡®æ€§

